<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Marketing Content Agent</title>
  <style>
    :root {
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --secondary: #64748b;
      --light: #f8fafc;
      --dark: #1e293b;
      --success: #10b981;
      --error: #ef4444;
      --warning: #f59e0b;
      --border: #e2e8f0;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--dark);
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
      grid-column: 1 / -1;
    }
    
    h1 {
      color: var(--primary);
      font-size: 2.5rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }
    
    .subtitle {
      color: var(--secondary);
      font-size: 1.1rem;
    }
    
    .input-section {
      grid-column: 1;
    }
    
    .output-section {
      grid-column: 2;
      position: relative;
    }
    
    .input-group {
      margin-bottom: 25px;
    }
    
    label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: var(--dark);
    }
    
    textarea {
      width: 100%;
      height: 140px;
      padding: 16px;
      border: 2px solid var(--border);
      border-radius: 10px;
      font-size: 16px;
      font-family: inherit;
      resize: vertical;
      transition: all 0.3s ease;
    }
    
    textarea:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
    }
    
    .button-group {
      display: flex;
      gap: 12px;
      margin-bottom: 25px;
    }
    
    button {
      flex: 1;
      padding: 14px 20px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    #generateBtn {
      background: var(--primary);
      color: white;
    }
    
    #generateBtn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    #clearBtn {
      background: #f1f5f9;
      color: var(--secondary);
    }
    
    #clearBtn:hover {
      background: #e2e8f0;
    }
    
    .loading {
      display: none;
      text-align: center;
      padding: 20px;
      margin: 20px 0;
      border-radius: 10px;
      background: #f8fafc;
    }
    
    .spinner {
      width: 40px;
      height: 40px;
      margin: 0 auto 15px;
      border: 4px solid rgba(37, 99, 235, 0.1);
      border-left-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .result-container {
      height: 100%;
      border: 2px dashed var(--border);
      border-radius: 10px;
      padding: 20px;
      background: #f8fafc;
      display: flex;
      flex-direction: column;
    }
    
    .result-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border);
    }
    
    .result-title {
      font-weight: 600;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    #result {
      padding: 20px;
      border-radius: 8px;
      background: white;
      white-space: pre-wrap;
      flex-grow: 1;
      border: 1px solid var(--border);
      overflow-y: auto;
      max-height: 350px;
    }
    
    .result-placeholder {
      color: var(--secondary);
      font-style: italic;
      display: flex;
      height: 100%;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    
    .examples {
      margin-top: 30px;
      padding: 20px;
      background: #f1f5f9;
      border-radius: 10px;
      grid-column: 1 / -1;
    }
    
    .examples h3 {
      margin-bottom: 15px;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .example {
      cursor: pointer;
      padding: 12px 15px;
      margin: 8px 0;
      background: #fff;
      border-radius: 8px;
      transition: all 0.3s ease;
      border-left: 3px solid transparent;
    }
    
    .example:hover {
      background: var(--primary);
      color: white;
      border-left-color: var(--primary-dark);
      transform: translateX(5px);
    }
    
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      opacity: 0;
      transform: translateX(100%);
      transition: all 0.5s ease;
      z-index: 1000;
    }
    
    .notification.show {
      opacity: 1;
      transform: translateX(0);
    }
    
    .notification.success {
      background: var(--success);
    }
    
    .notification.error {
      background: var(--error);
    }
    
    .copy-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 5px;
      transition: background 0.3s ease;
    }
    
    .copy-btn:hover {
      background: var(--primary-dark);
    }
    
    footer {
      text-align: center;
      margin-top: 30px;
      color: var(--secondary);
      font-size: 0.9rem;
      grid-column: 1 / -1;
    }
    
    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
      }
      
      .input-section, .output-section {
        grid-column: 1;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .button-group {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1><span>üéØ</span> Marketing Content Agent</h1>
      <p class="subtitle">Generate engaging marketing content with AI assistance</p>
    </header>

    <div class="input-section">
      <div class="input-group">
        <label for="goal">Enter your content goal:</label>
        <textarea id="goal" placeholder="Example: Create Facebook post about coffee shop opening with enthusiastic tone"></textarea>
      </div>

      <div class="button-group">
        <button id="generateBtn">Generate Content</button>
        <button id="clearBtn">Clear</button>
      </div>

      <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Generating your marketing content... This may take a moment</p>
      </div>
    </div>
    
    <div class="output-section">
      <div class="result-container">
        <div class="result-header">
          <div class="result-title">
            <span>üìã</span> Generated Content
          </div>
          <button class="copy-btn" id="copyBtn">
            <span>üìÑ</span> Copy Content
          </button>
        </div>
        <div id="result">
          <div class="result-placeholder">
            <div>
              <p>Your generated content will appear here</p>
              <p>‚¨ÖÔ∏è Enter your goal and click Generate</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="examples">
      <h3><span>üí°</span> Example Prompts:</h3>
      <div class="example" onclick="setGoal('Create Facebook post about coffee shop opening tone: enthusiastic')">Create Facebook post about coffee shop</div>
      <div class="example" onclick="setGoal('Write blog article about digital marketing trends save as marketing-trends.md')">Write blog article about digital marketing</div>
      <div class="example" onclick="setGoal('Make FB post promoting summer sale with 50% discount tone: casual')">Promote summer sale with discount</div>
      <div class="example" onclick="setGoal('Create SEO brief for https://example.com tone: professional')">Create SEO brief for website</div>
    </div>
    
    <footer>
      <p>Marketing Content Agent &copy; 2023 | Generate engaging content in seconds</p>
    </footer>
  </div>

  <div id="notification" class="notification"></div>

  <script>
    const API_URL = "https://marketing-agent-backend-4nqq.onrender.com/agent";
    
    // DOM elements
    const goalInput = document.getElementById('goal');
    const generateBtn = document.getElementById('generateBtn');
    const clearBtn = document.getElementById('clearBtn');
    const loadingEl = document.getElementById('loading');
    const resultEl = document.getElementById('result');
    const notificationEl = document.getElementById('notification');
    const copyBtn = document.getElementById('copyBtn');

    function setGoal(text) {
      goalInput.value = text;
      goalInput.focus();
    }
    
    function showNotification(message, type) {
      notificationEl.textContent = message;
      notificationEl.className = `notification ${type}`;
      notificationEl.classList.add('show');
      
      setTimeout(() => {
        notificationEl.classList.remove('show');
      }, 3000);
    }

    function simulateAPIResponse(goal) {
      // This is a simulation of API responses for demonstration
      const responses = {
        'coffee shop': "‚òï Grand Opening! ‚òï\n\nWe're thrilled to announce the opening of Brewtiful Day Caf√© this Saturday at 9 AM! \n\nüìç 123 Coffee Lane\n‚è∞ Mon-Sun: 7AM-8PM\n\nJoin us for:\n‚úÖ Handcrafted espresso drinks\n‚úÖ Freshly baked pastries\n‚úÖ Cozy atmosphere\n‚úÖ Free WiFi\n\nTag a friend who needs coffee! üëá\n\n#GrandOpening #CoffeeLovers #CafeLife #NewInTown",
        'digital marketing': "# Digital Marketing Trends 2023\n\n## 1. AI-Powered Personalization\nBrands are increasingly using AI to deliver hyper-personalized experiences to customers across channels.\n\n## 2. Voice Search Optimization\nWith the growth of smart speakers, optimizing for voice search has become crucial for SEO strategies.\n\n## 3. Short-Form Video Content\nPlatforms like TikTok and Instagram Reels continue to dominate engagement metrics.\n\n## 4. Sustainability Marketing\nConsumers are favoring brands that demonstrate authentic commitment to environmental issues.",
        'summer sale': "üåû Beat the Heat with Our Sizzling Summer Sale! üåû\n\nGet COOL savings with 50% OFF all summer essentials! \n\n‚òÄÔ∏è Swimwear\n‚òÄÔ∏è Sunglasses\n‚òÄÔ∏è Beach accessories\n‚òÄÔ∏è Outdoor gear\n\nLimited time offer - ends July 31st!\n\nShop now: example.com/summer-sale\n\n#SummerSale #Discount #HotDeals #Summer2023",
        'SEO brief': "# SEO Brief: example.com\n\n## Current Status Analysis\nHomepage lacks meta description, image alt tags are missing, page load speed could be improved.\n\n## Recommended Actions\n1. Add unique meta descriptions to all pages\n2. Optimize images and add descriptive alt text\n3. Implement schema markup for key pages\n4. Improve internal linking structure\n5. Create content cluster around primary keywords\n\n## Target Keywords\n- Primary: 'example products', 'industry solutions'\n- Secondary: 'product features', 'industry tools'\n\n## Performance Metrics to Track\n- Organic traffic growth\n- Keyword ranking improvements\n- Conversion rate from organic search"
      };
      
      // Find which example this is closest to
      let responseText = "";
      if (goal.toLowerCase().includes('coffee')) {
        responseText = responses['coffee shop'];
      } else if (goal.toLowerCase().includes('digital') || goal.toLowerCase().includes('blog')) {
        responseText = responses['digital marketing'];
      } else if (goal.toLowerCase().includes('sale') || goal.toLowerCase().includes('discount')) {
        responseText = responses['summer sale'];
      } else if (goal.toLowerCase().includes('seo') || goal.toLowerCase().includes('brief')) {
        responseText = responses['SEO brief'];
      } else {
        responseText = `I've created marketing content based on your request: "${goal}"\n\n`;
        responseText += "This would typically include:\n";
        responseText += "- Engaging headline/hook\n- Key message points\n- Call to action\n- Relevant hashtags/links\n";
        responseText += "\nFor more tailored content, please try one of our example prompts or provide more specific details.";
      }
      
      return responseText;
    }

    async function generateContent() {
      const goal = goalInput.value.trim();

      if (!goal) {
        showNotification('Please enter a content goal first', 'error');
        return;
      }

      loadingEl.style.display = 'block';
      
      try {
        // Try to call the actual API first
        const response = await fetch(API_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ goal })
        });

        let data;
        try { 
          data = await response.json(); 
        } catch (e) { 
          data = {}; 
        }

        if (response.ok) {
          resultEl.innerHTML = `<div class="success-content">${data.result || 'Content generated successfully!'}</div>`;
          showNotification('Content generated successfully!', 'success');
        } else {
          // If the API fails, use simulated response
          console.warn('API not available, using simulated response');
          resultEl.innerHTML = simulateAPIResponse(goal);
          showNotification('Demo mode: Simulated content generated', 'success');
        }
      } catch (err) {
        // If there's a network error, use simulated response
        console.error('API call failed:', err);
        resultEl.innerHTML = simulateAPIResponse(goal);
        showNotification('Demo mode: Simulated content generated', 'success');
      } finally {
        loadingEl.style.display = 'none';
      }
    }

    function clearContent() {
      goalInput.value = '';
      resultEl.innerHTML = '<div class="result-placeholder"><div><p>Your generated content will appear here</p><p>‚¨ÖÔ∏è Enter your goal and click Generate</p></div></div>';
      goalInput.focus();
    }

    function copyToClipboard() {
      if (resultEl.textContent.includes('Your generated content will appear here')) {
        showNotification('No content to copy', 'error');
        return;
      }
      
      navigator.clipboard.writeText(resultEl.textContent)
        .then(() => {
          showNotification('Content copied to clipboard!', 'success');
        })
        .catch(err => {
          showNotification('Failed to copy content', 'error');
          console.error('Failed to copy: ', err);
        });
    }

    // Event listeners
    generateBtn.addEventListener('click', generateContent);
    clearBtn.addEventListener('click', clearContent);
    copyBtn.addEventListener('click', copyToClipboard);
    
    // Ctrl+Enter shortcut
    goalInput.addEventListener('keydown', function (e) {
      if (e.key === 'Enter' && e.ctrlKey) {
        e.preventDefault();
        generateContent();
      }
    });
  </script>
</body>
</html>
